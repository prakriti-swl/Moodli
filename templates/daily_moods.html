{% extends "base.html" %}
{% load tz %}

{% block content %}
<section class="mood-list-container">
    <h2 class="mood-title">Daily Moods</h2>

    {% for group in grouped_moods %}
        <div class="mood-day">
            <div class="mood-date">
                {{ group.date|date:"F j, Y" }}
            </div>

            <div class="mood-cards">
                {% for mood in group.moods %}
                    <div class="mood-card {{ mood.mood|lower|slugify }}">
                        <div class="mood-left">
                            <!-- Emoji and mood title -->
                            <div class="mood-icon">
                                {% if mood.mood == "Very Happy" %}üòÅ
                                {% elif mood.mood == "Happy" %}üôÇ
                                {% elif mood.mood == "Neutral" %}üòê
                                {% elif mood.mood == "Sad" %}üôÅ
                                {% elif mood.mood == "Very Sad" %}üò¢
                                {% endif %}
                            </div>
                            <div class="mood-info">
                                <span class="mood-label">{{ mood.mood }}</span>
                            </div>
                        </div>

                        <!-- CENTER: User tag + emoji -->
                        <div class="mood-center">
                            {% if mood.tag or mood.tag_emoji %}
                                <span class="tag-emoji">{{ mood.tag_emoji }}</span>
                                <span class="tag-text">{{ mood.tag }}</span>
                            {% endif %}
                        </div>

                        <!-- Time displayed on the right side -->
                        <div class="mood-time">
                            {% if mood.date %}
                                {{ mood.date|localtime|time:"h:i A" }}
                            {% endif %}
                        </div>

                    </div>
                {% endfor %}
            </div>
        </div>
    {% empty %}
        <p class="empty-state">No mood data available.</p>
    {% endfor %}
</section>
{% endblock %}
